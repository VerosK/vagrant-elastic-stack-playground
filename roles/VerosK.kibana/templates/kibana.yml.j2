# {{ ansible_managed }}
server.port: {{ kibana_http_port }}
server.host: "{{ kibana_address }}"

# Enables you to specify a path to mount Kibana at if you are running behind a proxy. This only affects
# the URLs generated by Kibana, your proxy is expected to remove the basePath value before forwarding requests
# to Kibana. This setting cannot end in a slash.
#server.basePath: "{{ kibana_basepath }}"

# The maximum payload size in bytes for incoming server requests.
#server.maxPayloadBytes: 1048576

# The Kibana server's name.  This is used for display purposes.
server.name: "{{ kibana_servername }}"

# The URL of the Elasticsearch instance to use for all your queries.
elasticsearch.hosts:
    {{ [kibana_elasticsearch_hosts]|flatten|to_nice_yaml|indent(4) }}
{% if kibana_es_username|default(False) %}
elasticsearch.username: "{{  kibana_es_username }}"
elasticsearch.password: "{{ kibana_es_password }}"
{% endif %}
{% if kibana_es_ca_cert_path %}
elasticsearch.ssl.certificateAuthorities:
    {{ [kibana_es_ca_cert_path]|flatten|to_nice_yaml|indent(4) }}
{% endif %}

# When this setting's value is true Kibana uses the hostname specified in the server.host
# setting. When the value of this setting is false, Kibana uses the hostname of the host
# that connects to this Kibana instance.
#elasticsearch.preserveHost: true

# Kibana uses an index in Elasticsearch to store saved searches, visualizations and
# dashboards. Kibana creates a new index if the index doesn't already exist.
kibana.index: ".kibana"

# The default application to load.
#kibana.defaultAppId: "home"

elasticsearch.pingTimeout: {{ kibana_elasticsearch_ping_timeout }}
elasticsearch.requestTimeout: {{  kibana_elasticsearch_request_timeout }}

# Enables you specify a file where Kibana stores log output.
logging.dest: stdout

# Set the value of this setting to true to suppress all logging output.
#logging.silent: false
logging.quiet: true

# Set the value of this setting to true to log all events, including system usage information
# and all requests.
#logging.verbose: false

xpack.security.enabled: true
xpack.encryptedSavedObjects.encryptionKey: 'ohth0ooGhafeigohbai9shahm6ihoh8A'

